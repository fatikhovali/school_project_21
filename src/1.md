## Part 1. Установка ОС
----
* Узнала версию Ubuntu, выполнив команду:
`cat /etc/issue`
![1](./image/1.png)
----

## Part 2. Создание пользователя
----
* Вызвала команду для создания пользователя
![2](image/2.png)
* Добавляю нового пользователя в группу 'adm' с помощью команды
 `sudo usermod -a -G adm lili`, где adm - название группы, lili - имя пользователя
![3](image/3.png)
* Вывожу нового пользователя с помощью команды
 `cat /etc/passwd`
![4](image/4.png)
----

## Part 3. Настройка сети ОС
----
* Задаю название машины вида user-1 с помощью команды
`sudo hostnamectl set-hostname omastako-1`
![5](image/5.png)
* Установливаю временную зону, соответствующую моему текущему местоположению
![6](image/6.png)
* Вывести названия сетевых интерфейсов с помощью консольной команды
![7](image/7.png)
Интерфейс lo (loopback device) – виртуальный интерфейс, присутствующий по умолчанию в любом Linux. Он используется для отладки сетевых программ и запуска серверных приложений на локальной машине
* Получить ip адрес устройства, на котором вы работаете, от DHCP сервера
![8](image/8.png)
![9](image/9.png)
DHCP (Dynamic Host Configuration Protocol ) - протокол динамической настройки узла - прикладной протокол, позволяющий сетевым устройствам автоматически получать IP-адрес и другие параметры, необходимые для работы в сети TCP/IP. Протокол работает по модели "клиент-сервер"
* Получить внутренний ip - адрес шлюза (gw) с помощью команды
`ip r`
![10](image/10.png)
* Получить внешний ip - адрес шлюза с помлщью команды
`curl ifconfig.me`
![11](image/11.png)
* Задать статичные (заданные вручную, а не полученные от DHCP сервера) настройки ip, gw, dns (использовать публичный DNS серверы, например 1.1.1.1 или 8.8.8.8).
`sudo vim /etc/netplan/00-installer-config.yaml`
![12](image/12.png)
![13](image/13.png)
* Сохранить
![14](image/14.png)
* Перезагрузить виртуальную машину c помощью команды
`sudo reboot`
* Убедиться, что статичные сетевые настройки (ip, gw, dns) соответствуют заданным в предыдущем пункте.
![15](image/15.png)
* Успешно пропинговать удаленные хосты 1.1.1.1 и ya.ru и вставить в отчёт скрин с выводом команды. В выводе команды должна быть фраза "0% packet loss".
![16](image/16.png)
![17](image/17.png)
----

## Part 4. Обновление ОС
----
* Обновить системные пакеты до последней на момент выполнения задания версии
`sudo apt-get upgrade`
![18](image/18.png)
----

## Part 5. Использование команды sudo
----
* Oбъяснить истинное назначение команды sudo (про то, что это слово - "волшебное", писать не стоит)
sudo - команда, которая позволяет определенным пользователям выполнять указанные программы с административными привелегиями без ввода пароля root (пользователя с повышенным правом).
* Разрешить пользователю, созданному в Part 2, выполнять команду sudo
`sudo usermod -a -G sudo lili`
* Поменять hostname ОС от имени пользователя, созданного в пункте Part 2 (используя sudo)
* Установить пароль для пользователя из Part 2 с помощью программы
`sudo passwd lili`
* Сменить пользователя с помощью программы
`su lili`
* Поменять hostname
`lili-1`
![19](image/19.png)
----

## Part 6. Установка и настройка службы времени
----
Настроить службу автоматической синхронизации времени

* Вывести время, часового пояса, в котором вы сейчас находитесь.
* Вывод следующей команды должен содержать NTPSynchronized=yes:
timedatectl show
* Вставить скрины с корректным временем и выводом команды в отчёт.
![20](image/20.png)
----

## Part 7. Установка и использование текстовых редакторов
----
* Установить текстовые редакторы VIM (+ любые два по желанию NANO, MCEDIT, JOE и т.д.)
`sudo apt install vim`,
`sudo apt install nano`,
`sudo apt install mcedit`
![21](image/21.png)
___
### VIM

* Создала файл test_vim.txt. Написала в нём свой никнейм omastako, закрыла файл с сохранением изменений
Для выхода с сохранением
`esc :wq`
![22](image/22.png)
![23](image/23.png)
* Открыла файл на редактирование, отредактировала файл, заменив никнейм на строку "21 School 21", закрыла файл без сохранения изменений.
![24](image/24.png)
Для выхода без сохранения VIM
`esc :q!`
* Открыла и отредактировала файл ещё раз (по аналогии с предыдущим пунктом), а затем освоила функции поиска по содержимому файла (слово) и замены слова на любое другое.
Поиск слова VIM
`/исходное слово`
![25](image/25.png)
Замена слова на другое VIM
`:%s/исходное слово/замена/g`
![26](image/26.png)
___
### NANO

* Создала файл test_nano.txt, в котором создала файл. Написала в нём свой никнейм omastako, закрыла файл с сохранением изменений
 Для выхода с сохранением
`control X` enter появится вопрос "Save modified buffer ...?" нажмите `y`
![27](image/27.png)
![28](image/28.png)
* Открыла файл на редактирование, отредактировала файл, заменив никнейм на строку "21 School 21", закрыла файл без сохранения изменений.
![29](image/29.png)
Для выхода без сохранений
`control X` появится вопрос "Save modified buffer ...?" нажмите `n`
* Открыла и отредактировала файл ещё раз (по аналогии с предыдущим пунктом), а затем освоила функции поиска по содержимому файла (слово) и замены слова на любое другое.
Поиск слова
 `control W`
 ![30](image/30.png)
Замена слова на другое
 `control \` вводим исходное слово enter вводим замену, подтвердить `y`
![31](image/31.png)
![32](image/32.png)
подтвердить `y`
![33](image/33.png)
___
### MCEDIT

* ССоздала файл test_mcedit.txt, в котором создала файл. Написала в нём свой никнейм omastako, закрыла файл с сохранением изменений
 Для выхода с сохранением F2 coхранить и F10 выйти
 ![34](image/35.png)
 ![35](image/34.png)
* Используя каждый из трех выбранных редакторов, откройте файл на редактирование, отредактируйте файл, заменив никнейм на строку "21 School 21", закройте файл без сохранения изменений.
 ![36](image/36.png)
 ![37](image/37.png)
Для выхода без сохранений F10 и выбрать `нет`
* Используя каждый из трех выбранных редакторов, отредактируйте файл ещё раз (по аналогии с предыдущим пунктом), а затем освойте функции поиска по содержимому файла (слово) и замены слова на любое другое.
Поиск слова F7
 ![38](image/38.png)
 ![39](image/39.png)
Замена слова на другое с помощью F4, вводим исходное слово и замену и нажать `дальше`, подтвердить замену
 ![40](image/40.png)
 ![41](image/41.png)
----

## Part 8. Установка и базовая настройка сервиса SSHD
----
* Установить службу SSHd
`sudo apt-get install openssh-server`
* Добавить автостарт службы при загрузке системы
`sudo systemctl enable ssh`
![42](image/42.png)
* Перенастроить службу SSHd на порт 2022
Изменить порт с помощью текстового редактора, в строке Port 22 поменять на Port 2022
`sudo vim /etc/ssh/sshd_config`
![43](image/43.png)
* Используя команду ps, показать наличие процесса sshd. Для этого к команде нужно подобрать ключи.
В отчёте объяснить значение команды и каждого ключа в ней.
![44](image/44.png)
ps - встроенная программа, с помощью которой осуществляется мониторинг активных процессов по виртуальным файлам в файловой системе. Данная программа позволяет ориентироваться в том, что конкретно происходит в Linux
-А - выводит все процессы;
-а - выводит все процессы в текущем терминале;
-u - выводит процессы, запушенные пользователем root;
-x - выводит список всех активных процессов;
-С - выводит процессы по имени команды
* Перезагрузить систему
`sudo reboot`
Вывод команды netstat -tan должен содержать  
tcp 0 0 0.0.0.0:2022 0.0.0.0:* LISTEN  
(если команды netstat нет, то ее нужно установить)

![45](image/44.png)
 Oбъяснить значение ключей -tan значение 0.0.0.0.

 -t (tcp)- отображает состояние соединения только по tcp
 -a (all)- отображает все подключения и портов прослушивания
 -n (numeric)- отображает адреса и номера портов в числовом формате

 Значение каждого столбца вывода
 Proto - название протокола
 Recv-Q - oчередь получения сети
 Send-Q - очередь отправки
 Local Address - ip-адрес локального компьютера и номер используемого порта
 Foreign Address - ip-адрес и номер порта удаленного компьютера, к которому подключен сокет  
 Stаte - состояние сокета

 0.0.0.0 - означает ip-адрес на локальной машине
----

## Part 9. Установка и использование утилит top, htop
----
1. При необходимости установить утилиты top, htop c помошью команд `sudo apt install top` и `sudo apt install htop` (в моем случае уже установлены).
2. Ввел команду `top`, где
* uptime - время работы после загрузки (отмечено красным)
* количество авторизованных пользователей - (отмечено зеленым)
* общая загрузка системы (за последние 1, 5 и 15 минут) - (отмечено синим)
* общее количество процессов (отмечено желтым)
* загрузка cpu (отмечено оранжевым)
* загрузка памяти (отмечено фиолетовым)
* pid процесса занимающего больше всего памяти (отмечено коричневым)
* pid процесса, занимающего больше всего процессорного времени (отмечено коричневым)
![46](image/46.png)
* Чтобы выйти нажать клавишу `q`.
3. Ввел команду `htop` и с помощью клавиши `F6` отсортировал поочередно по следующим элементам:
* PID 
![47](image/47.png)
* PERCENT_CPU 
![48](image/48.png)
* PERCENT_MEM - чтобы отсортировать в обратном порядке можно также использовать кнопку `I (Shift+i)`
![49](image/49.png)
* TIME ![50](image/50.png)
4. С помощью клавиши `F4` отфильтровал вывод команда htop для процесса sshd
![51](image/51.png)
Для очистки фильтра вновь нажмите  `F4` и затем .
5. С помощью клавиши `F3` нашел процесс syslog по поиску 
![52](image/52.png)
6. С помощью клавиши `F2` изменил внешний вид htop и добавил hostname, clock и uptime (перешел от Setup до Meters, далее с помощью стрелочек перешел до колонки Available meters и выбрал hostname, clock и uptime, нажимая поочередно `Enter`). Hostname, clock и uptime отобразились в колонке Right column.
![53](image/53.png)
7. Для сохранения с выходом нажал клавишу `F10`.
![54](image/54.png)
----

## Part 10. Использование утилиты fdisk
----
1. Запустил команду `sudo fdisk -l` 
![55](image/55.png)
2. Запустил команду `free -h` 
![56](image/56.png)
размер swap с помощью команды `swapon --show`
![57](image/57.png)
3. В итоге получил данные по следующим параметрам:
* **Название жесткого диска** - /dev/sda
* **Его размер** - 10 GiB
* **Количество секторов** - 20971520
* **Размер swap** - 1,5 G
----

## Part 11. Использование утилиты df
----
1. Запустил команду `df /`.
![58](image/58.png)
2. Получил данные по следующим параметрам:
* **Размер раздела** - 8408452 KiB
* **Размер занятого пространства** - 27674435272460 KiB
* **Размер свободного пространства** - 3524464 KiB
* **Процент использования** - 56%
3. Для более читабельного вывода при необходимости можно использовать дополнительно опцию `-h` (`df -h /`).
![59](image/59.png)
4. Опция `-T` выводит тип файловой системы. Запустил команду `df -Th /`.
![60](image/60.png)
5. Получил данные по следующим параметрам:
* **Размер раздела** - 8,1 Gib
* **Размер занятого пространства** - 4,3 GiB
* **Размер свободного пространства** - 3,4 GiB
* **Процент использования** - 56%
* **Тип файловой системы** - ext4
----

## Part 12. Использование утилиты du
----
1. Запустил команду `du` и вывели размер всех файлов в определённой папке в байтах.
![61](image/61.png)
2. С помощью команд ниже вывел размер папок /home, /var
![62](image/62.png)
3. Вывел размер всего содержимого в /var/log с помощью команды `sudo du -hs /var/log`.
![63](image/63.png)
----

## Part 13. Установка и использование утилиты ncdu
----
1. Установил утилиту ncdu с помощью команды `sudo apt install ncdu`.
![64](image/64.png)
2. C помощью команды `sudo ncdu /` вывел размер по папкам.
![65](image/65.png)
* _var_
![66](image/66.png)
* _home_
![67](image/67.png)
* _var/log_
![68](image/68.png)

3. Нажать `q` для выхода.
4. Сравнительная таблица данных команд `du` и `ncdu`:

|directory      | du  | ncdu|
|------|-----|-----|
|/home | 140 KiB  | 140 KiB  |
|/var  | 894 MiB  |893,4 MiB|
|/var/log| 37 MiB |36,2 MiB|
----

## Part 14. Работа с системными журналами
----
* время последней успешной авторизации 17:51
* имя пользователя omastako
* метод входа в систему tty1
  ![69](image/69.png)
  ![70](image/70.png)
  ![71](image/71.png)
* Перезапустить службу SSHd
`sudo service ssh restart`
![72](image/72.png)
----

## Part 15. Использование планировщика заданий CRON
----
1. C помощью команды `sudo crontab -e` (где -е - выбор текстового редактора по умолчанию) открыл в редакторе список задач и добавила строчку `*/2 * * * * uptime | wall`.
![73](image/73.png)
2. Вывел на экран список текущих заданий для CRON с помощью команды `sudo crontab -l`.
![74](image/74.png)
Таким образом, я запустил вывод команды uptime через каждые 2 минуты.
3. Удалил все задания из планировщика заданий (`sudo crontab -e`) и перезашел в список текущих задач.
![75](image/75.png)
В списке текущих задач отсутствуют активные задачи.
----
